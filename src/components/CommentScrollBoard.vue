<template>
  <div>
    <dv-border-box-8 style="width: 100%; height: 800px">
      <dv-scroll-board :config="config" style="padding: 10px"/>
    </dv-border-box-8>
  </div>
</template>

<script>
import commentApi from '../api/comment'

export default {
  data () {
    return {
      config: {
        header: ['è¯„è®ºå†…å®¹', 'æ­£é¢æ¦‚çŽ‡', 'è´Ÿé¢æ¦‚çŽ‡'],
        // headerBGC: '',
        oddRowBGC: '',
        evenRowBGC: '',
        rowNum: 15,
        data: [
          ['å¯æ€œçš„å­©å­ è¿™å½“å¦ˆçš„çœŸè¯¥æ­»', '1.9543003290891647', '98.04570078849792'],
          ['æ˜Žæ˜¾æ¸ŽèŒï¼', '43.68571639060974', '56.31428360939026'],
          ['è‡ªæ€å¤„ç†', '14.905664324760437', '85.09433269500732'],
          ['æ²¡æœ‰è§åˆ°å—å®³è€…ï¼Œå’Œç›´æŽ¥è¯æ˜Žå…¶æ­»äº¡çš„è¯æ®ï¼Œè‚¯å®šæ˜¯äººå£å¤±è¸ª', '2.3818086832761765', '97.61818647384644'],
          ['è¿™ç§æ–°é—»çœ‹äº†ç‰¹åˆ«æ°”æ„¤', '9.299368411302567', '90.70063829421997'],
          ['æƒ¨å•Šï¼', '4.85972948372364', '95.14027237892151'],
          ['â€œåŒæ ·æ˜¯ä¹å¹´ä¹‰åŠ¡æ•™è‚²ï¼Œä¸ºä½•ä½ å¦‚æ­¤çš„ä¼˜ç§€â€', '82.80609250068665', '17.193906009197235'],
          ['å•Šå“ˆå“ˆðŸ˜„', '81.40708208084106', '18.592917919158936'],
          ['è­¦å¯Ÿå¤ªèƒ½å¹²äº†ï¼', '81.07325434684753', '18.926751613616943'],
          ['å¯æ€œçš„å­©å­ è¿™å½“å¦ˆçš„çœŸè¯¥æ­»', '1.9543003290891647', '98.04570078849792'],
          ['æ˜Žæ˜¾æ¸ŽèŒï¼', '43.68571639060974', '56.31428360939026'],
          ['è‡ªæ€å¤„ç†', '14.905664324760437', '85.09433269500732'],
          ['æ²¡æœ‰è§åˆ°å—å®³è€…ï¼Œå’Œç›´æŽ¥è¯æ˜Žå…¶æ­»äº¡çš„è¯æ®ï¼Œè‚¯å®šæ˜¯äººå£å¤±è¸ª', '2.3818086832761765', '97.61818647384644'],
          ['è¿™ç§æ–°é—»çœ‹äº†ç‰¹åˆ«æ°”æ„¤', '9.299368411302567', '90.70063829421997'],
          ['æƒ¨å•Šï¼', '4.85972948372364', '95.14027237892151'],
          ['â€œåŒæ ·æ˜¯ä¹å¹´ä¹‰åŠ¡æ•™è‚²ï¼Œä¸ºä½•ä½ å¦‚æ­¤çš„ä¼˜ç§€â€', '82.80609250068665', '17.193906009197235'],
          ['å•Šå“ˆå“ˆðŸ˜„', '81.40708208084106', '18.592917919158936'],
          ['è­¦å¯Ÿå¤ªèƒ½å¹²äº†ï¼', '81.07325434684753', '18.926751613616943'],
        ],
      },
    }
  },
  mounted () {
    this.fetchData()
    setInterval(this.fetchData, 60 * 1000)
  },
  methods: {
    fetchData () {
      this.listOrderByUpdateDateTimeDESC()
    },
    listOrderByUpdateDateTimeDESC () {
      commentApi.listOrderByUpdateDateTimeDESC().then(res => {
        this.config.data = []
        console.log('listOrderByUpdateDateTimeDESC()', res)
        for (let i = 0; i < res.data.length; i++) {
          let item = res.data[i]
          this.config.data.push([item.content, item.p, item.n])
        }
        this.config = { ...this.config }
      })
    },
  },
}
</script>

<style scoped>
* {
  color: #C4CAD9;
}
</style>
